"use strict";(globalThis.webpackChunkmcgrad_website=globalThis.webpackChunkmcgrad_website||[]).push([[102],{1063:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>c,frontMatter:()=>l,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"methodology","title":"Methodology","description":"This page provides an overview of how MCBoost works under the hood.","source":"@site/docs/methodology.md","sourceDirName":".","slug":"/methodology","permalink":"/MCGrad/docs/methodology","draft":false,"unlisted":false,"editUrl":"https://github.com/facebookincubator/MCGrad/tree/main/website/docs/methodology.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5}}');var r=i(4848),s=i(8453);const l={sidebar_position:5},o="Methodology",d={},a=[{value:"The Multi-Calibration Problem",id:"the-multi-calibration-problem",level:2},{value:"MCBoost Algorithm",id:"mcboost-algorithm",level:2},{value:"Why Gradient Boosting?",id:"why-gradient-boosting",level:2},{value:"Theoretical Guarantees",id:"theoretical-guarantees",level:2},{value:"Implementation Details",id:"implementation-details",level:2},{value:"Comparison with Alternatives",id:"comparison-with-alternatives",level:2},{value:"Research Paper",id:"research-paper",level:2},{value:"Next Steps",id:"next-steps",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"methodology",children:"Methodology"})}),"\n",(0,r.jsx)(n.p,{children:"This page provides an overview of how MCBoost works under the hood."}),"\n",(0,r.jsx)(n.h2,{id:"the-multi-calibration-problem",children:"The Multi-Calibration Problem"}),"\n",(0,r.jsx)(n.p,{children:"Traditional calibration ensures that predictions match outcomes globally:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"E[Y | f(X) = p] = p\n"})}),"\n",(0,r.jsx)(n.p,{children:"Multi-calibration extends this to segments:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"E[Y | f(X) = p, g(X) = v] = p  for all functions g\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Where ",(0,r.jsx)(n.code,{children:"g(X)"})," represents any segment defined by the features."]}),"\n",(0,r.jsx)(n.h2,{id:"mcboost-algorithm",children:"MCBoost Algorithm"}),"\n",(0,r.jsx)(n.p,{children:"MCBoost uses gradient boosting (LightGBM) to iteratively improve calibration across segments:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Initialize"})," with base model predictions"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Iterate"})," over boosting rounds:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Identify segments with largest calibration errors"}),"\n",(0,r.jsx)(n.li,{children:"Train weak learner to correct those errors"}),"\n",(0,r.jsx)(n.li,{children:"Update predictions"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Regularize"})," to prevent overfitting"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"why-gradient-boosting",children:"Why Gradient Boosting?"}),"\n",(0,r.jsx)(n.p,{children:"LightGBM provides several advantages for multi-calibration:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Automatic feature selection"})," - finds relevant segments"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Efficient"})," - handles large datasets and many features"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Regularization"})," - built-in controls against overfitting"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Interpretable"})," - tree-based models show which segments matter"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"theoretical-guarantees",children:"Theoretical Guarantees"}),"\n",(0,r.jsx)(n.p,{children:"MCBoost is a likelihood-improving procedure:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"On training data"}),": guaranteed to improve or maintain likelihood"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"On test data"}),": improved with high probability given proper regularization"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Multi-calibration"}),": achieves near-optimal calibration across exponentially many segments"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"implementation-details",children:"Implementation Details"}),"\n",(0,r.jsx)(n.p,{children:"The implementation uses:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"LightGBM"})," as the core gradient boosting framework"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Custom loss functions"})," designed for calibration"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Cross-validation"})," for hyperparameter tuning"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Early stopping"})," to prevent overfitting"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"comparison-with-alternatives",children:"Comparison with Alternatives"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Method"}),(0,r.jsx)(n.th,{children:"Global Calibration"}),(0,r.jsx)(n.th,{children:"Multi-Calibration"}),(0,r.jsx)(n.th,{children:"Data Efficiency"}),(0,r.jsx)(n.th,{children:"Speed"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"MCBoost"})}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713\u2713\u2713"}),(0,r.jsx)(n.td,{children:"\u2713\u2713\u2713"}),(0,r.jsx)(n.td,{children:"\u2713\u2713\u2713"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Isotonic Regression"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2717"}),(0,r.jsx)(n.td,{children:"\u2713\u2713"}),(0,r.jsx)(n.td,{children:"\u2713\u2713\u2713"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Platt Scaling"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2717"}),(0,r.jsx)(n.td,{children:"\u2713\u2713\u2713"}),(0,r.jsx)(n.td,{children:"\u2713\u2713\u2713"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Temperature Scaling"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2717"}),(0,r.jsx)(n.td,{children:"\u2713\u2713\u2713"}),(0,r.jsx)(n.td,{children:"\u2713\u2713\u2713"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Beta Calibration"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2717"}),(0,r.jsx)(n.td,{children:"\u2713\u2713"}),(0,r.jsx)(n.td,{children:"\u2713\u2713\u2713"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Separate Calibration per Segment"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2717"}),(0,r.jsx)(n.td,{children:"\u2713"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"research-paper",children:"Research Paper"}),"\n",(0,r.jsx)(n.p,{children:"For a detailed theoretical analysis and experimental results, see our paper:"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"MCBoost: A Tool for Multi-Calibration"}),"\nArXiv: ",(0,r.jsx)(n.a,{href:"https://arxiv.org/pdf/2509.19884",children:"2509.19884"})]}),"\n",(0,r.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/MCGrad/docs/quickstart",children:"Quick Start"})," - Start using MCBoost"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/MCGrad/docs/api/methods",children:"API Reference"})," - Explore the implementation"]}),"\n"]})]})}function c(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>o});var t=i(6540);const r={},s=t.createContext(r);function l(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);